# Task Management API

**Task Management API** ‚Äî —ç—Ç–æ —Å–µ—Ä–≤–∏—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–¥–∞—á–∞–º–∏ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π CRUD-–æ–ø–µ—Ä–∞—Ü–∏–π, —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π —á–µ—Ä–µ–∑ Redis –∏ Telegram, –∞–≤—Ç–æ–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π –∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏–µ–π.

---

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- **CRUD –¥–ª—è –∑–∞–¥–∞—á**: —Å–æ–∑–¥–∞–Ω–∏–µ, –ø—Ä–æ—Å–º–æ—Ç—Ä, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ
- **–•—Ä–∞–Ω–µ–Ω–∏–µ –≤ PostgreSQL** (—á–µ—Ä–µ–∑ SQLAlchemy)
- **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑ Redis** (pub/sub, –æ—Ç–¥–µ–ª—å–Ω—ã–π worker)
- **–û–ø–æ–≤–µ—â–µ–Ω–∏–µ –≤ Telegram** –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –∑–∞–¥–∞—á–∏
- **–ê–≤—Ç–æ–≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** (Swagger/OpenAPI)
- **Unit-—Ç–µ—Å—Ç—ã** –¥–ª—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏
- **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è** (Docker, docker-compose)
- **–ì–∏–±–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —á–µ—Ä–µ–∑ .env**

---

## üóÇÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
app/
‚îú‚îÄ‚îÄ api/                # –†–æ—É—Ç—ã FastAPI
‚îú‚îÄ‚îÄ core/               # –ö–æ–Ω—Ñ–∏–≥–∏, –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ models/             # SQLAlchemy-–º–æ–¥–µ–ª–∏
‚îú‚îÄ‚îÄ schemas/            # Pydantic-—Å—Ö–µ–º—ã
‚îú‚îÄ‚îÄ services/           # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îú‚îÄ‚îÄ redis_pubsub/       # Redis publisher/worker
‚îú‚îÄ‚îÄ tests/              # –¢–µ—Å—Ç—ã
‚îú‚îÄ‚îÄ app.py              # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ FastAPI
Dockerfile
docker-compose.yml
.env
README.md
requirements.txt
```

---

## ‚öôÔ∏è –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

```sh
git clone <–≤–∞—à-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π>
cd <–ø–∞–ø–∫–∞-–ø—Ä–æ–µ–∫—Ç–∞>
```

### 2. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ `.env` –ø–æ –∞–Ω–∞–ª–æ–≥–∏–∏ —Å `.env.template`

–ü—Ä–∏–º–µ—Ä:
```
DATABASE_URL=postgresql+asyncpg://postgres:postgres@db:5432/testinfourhours
REDIS_HOST=redis
REDIS_PORT=6379
TELEGRAM_TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω
TELEGRAM_CHAT_ID=–≤–∞—à_chat_id
```

### 3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å—ã

```sh
docker-compose up --build
```

- FastAPI: http://localhost:8000
- Swagger UI: http://localhost:8000/docs

### 4. –ó–∞–ø—É—Å–∫ –≤–æ—Ä–∫–µ—Ä–∞ –æ—Ç–¥–µ–ª—å–Ω–æ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

```sh
docker-compose run --rm worker
```
–∏–ª–∏ –≤—Ä—É—á–Ω—É—é:
```sh
docker-compose exec worker python -m app.redis_pubsub.worker
```

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```sh
pip install -r requirements.txt
pytest
```

---

## üìù –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤

**–°–æ–∑–¥–∞—Ç—å –∑–∞–¥–∞—á—É:**
```http
POST /api/tasks/
{
  "title": "–°–¥–µ–ª–∞—Ç—å –ø—Ä–æ–µ–∫—Ç",
  "description": "–°–¥–∞—Ç—å –¥–æ –∑–∞–≤—Ç—Ä–∞",
  "due_date": "2025-07-02T12:00:00"
}
```

**–û–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ç—É—Å:**
```http
PUT /api/tasks/1
{
  "status": "done"
}
```

---

## üì¶ –ú–∏–≥—Ä–∞—Ü–∏–∏ –ë–î

```sh
alembic revision --autogenerate -m "–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π"
alembic upgrade head
```

